var VueCutdown=function(t){"use strict";var e=(new Date).getTime(),n={name:"VueCutdown",props:{showTimeBefore:{type:Boolean,default:!0},showTimeAfter:{type:Boolean,default:!0},currentTime:{type:Number,default:e},startTime:{type:Number,default:e},endTime:{type:Number,default:e},showTip:{type:Boolean,default:!0},startText:{type:String,default:"Distance Start"},runningText:{type:String,default:"Distance End"},endText:{type:String,default:"It's over"},tipSepartor:{type:String,default:":"},dayTxt:{type:String,default:"day(s)"},hourTxt:{type:String,default:":"},minutesTxt:{type:String,default:":"},secondsTxt:{type:String,default:":"}},data:function(){return{cutdown:{day:0,hour:"00",minutes:"00",seconds:"00"},cutdown_type:"start",timer:null,current:null}},computed:{tipText:function(){return"start"===this.cutdown_type?this.startText:"run"===this.cutdown_type?this.runningText:this.endText},hiddenTime:function(){var t=this.cutdown_type;return!this.showTimeBefore&&"start"===t||!this.showTimeAfter&&"end"===t},current_time:function(){return this.current||this.calcTimestamp(this.currentTime)},start_time:function(){return this.calcTimestamp(this.startTime)},end_time:function(){return this.calcTimestamp(this.endTime)}},mounted:function(){this.startCutdown()},beforeDestroy:function(){clearInterval(this.timer)},methods:{calcTimestamp:function(t){return 10===t.toString().length?1e3*t:t},startCutdown:function(){this.end_time<=this.current_time?this.onEnd():this.current_time<this.start_time?this.runCutdown(this.start_time,this.current_time,!1):this.end_time>this.current_time&&this.start_time<=this.current_time&&(this.onStart(),this.runCutdown(this.end_time,this.start_time,!0))},runCutdown:function(t,e,n){var i=this;clearInterval(this.timer),this.cutdown_type=n?"run":"start",this.calcCutdown(t,e),this.timer=setInterval(function(){i.calcCutdown(t,e+=1e3,n)},1e3)},calcCutdown:function(t,e,n){var i=this.cutdown,s=t-e;s>0?(i.day=Math.floor(s/864e5),s-=864e5*i.day,i.hour=Math.floor(s/36e5),s-=36e5*i.hour,i.minutes=Math.floor(s/6e4),s-=6e4*i.minutes,i.seconds=Math.floor(s/1e3).toFixed(0),s-=1e3*i.seconds,i.hour<10&&(i.hour="0"+i.hour),i.minutes<10&&(i.minutes="0"+i.minutes),i.seconds<10&&(i.seconds="0"+i.seconds)):n?(clearInterval(this.timer),this.onEnd()):(this.current=this.start_time,this.startCutdown())},onStart:function(){console.log("start..."),this.cutdown_type="run",this.$emit("onStart")},onEnd:function(){console.log("end..."),this.cutdown_type="end",this.$emit("onEnd")}}};var i=function(t,e,n,i,s,r,o,a,u,d){"boolean"!=typeof o&&(u=a,a=o,o=!1);var c,l="function"==typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,s&&(l.functional=!0)),i&&(l._scopeId=i),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):e&&(c=o?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),c)if(l.functional){var m=l.render;l.render=function(t,e){return c.call(e),m(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return n},s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var r=document.head||document.getElementsByTagName("head")[0],o={};var a=function(t){return function(t,e){return function(t,e){var n=s?e.media||"default":t,i=o[n]||(o[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var a=e.source;if(e.map&&(a+="\n/*# sourceURL="+e.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),r.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(a),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var u=i.ids.size-1,d=document.createTextNode(a),c=i.element.childNodes;c[u]&&i.element.removeChild(c[u]),c.length?i.element.insertBefore(d,c[u]):i.element.appendChild(d)}}}(t,e)}},u=n,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"vue-cutdown"},[t.showTip?n("span",[n("span",[t._v(t._s(t.tipText)+t._s(t.tipSepartor))])]):t._e(),t._v(" "),n("span",{attrs:{hidden:t.hiddenTime}},[t.cutdown.day>0?n("span",[n("span",[t._v(t._s(t.cutdown.day))]),t._v(" "),n("i",[t._v(t._s(t.dayTxt))])]):t._e(),t._v(" "),n("span",[t._v(t._s(t.cutdown.hour))]),t._v(" "),n("i",[t._v(t._s(t.hourTxt))]),t._v(" "),n("span",[t._v(t._s(t.cutdown.minutes))]),t._v(" "),n("i",[t._v(t._s(t.minutesTxt))]),t._v(" "),n("span",[t._v(t._s(t.cutdown.seconds))])])])};d._withStripped=!0;var c=i({render:d,staticRenderFns:[]},function(t){t&&t("data-v-57fa8d86_0",{source:".cutdown i {\n  font-style: normal;\n}\n",map:{version:3,sources:["vue-cutdown.vue"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB",file:"vue-cutdown.vue",sourcesContent:[".cutdown i {\n  font-style: normal;\n}\n"]},media:void 0})},u,void 0,!1,void 0,a,void 0);function l(t){l.installed||(l.installed=!0,t.component("VueCutdown",c))}var m={install:l},h=null;return"undefined"!=typeof window?h=window.Vue:"undefined"!=typeof global&&(h=global.Vue),h&&h.use(m),t.default=c,t.install=l,t}({});
